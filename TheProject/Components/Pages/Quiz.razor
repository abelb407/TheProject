@page "/quiz"

@using System.ComponentModel.DataAnnotations
@using Microsoft.AspNetCore.Components.Forms

@using TheProject.Model
<h3>Select a Topic</h3>

<EditForm Model="@userSelection" OnValidSubmit="HandleValidSubmit">
    <div class="form-group">

        <label for="topic">Choose a topic:</label>

        <InputSelect id="topic" @bind-Value="userSelection.Topic">

            <option value=""> Select Topic: </option>
            @foreach (var topic in Topics)
            {

                <option value="@topic">@topic</option>
            }

        </InputSelect>

    </div>

   <button type="submit" class="btn btn-primary">Submit</button>
</EditForm>

<p>@resultMessage</p>

@code {
    private string resultMessage;

    // List of topics to display in dropdown
    private List<string> Topics = new List<string>
    {
        "Alkanes",
        "Alkenes",
        "Alcohols",
        "Aldehydes",
        "Carboxylic Acids",
        "Amines", 
        "Halogenoalkanes"
    };

    // Model to store the user's selected topic
    private UserSelectionModel userSelection = new UserSelectionModel();

    // Handle form submission
    private void HandleValidSubmit()
    {
        Console.WriteLine("Submitted");
        resultMessage = "Selected" ;
        StateHasChanged();

    }

    // Model class to hold the selection data
    public class UserSelectionModel
    {
        public Topic Topic { get; set; }
    }
}